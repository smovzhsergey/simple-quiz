(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports={fullAnswer:"fullAnswer_fullAnswer__URdfU",options:"fullAnswer_options__3Wseq",right:"fullAnswer_right__2PPVr",wrong:"fullAnswer_wrong__2gWqC",overlap:"fullAnswer_overlap__36AQe",rightAnswer:"fullAnswer_rightAnswer__2zt2A",wrongAnswer:"fullAnswer_wrongAnswer__3YdhW"}},20:function(e,t,n){e.exports={wrap:"quizResult_wrap__3GcZ_",right:"quizResult_right__2z-_y",wrong:"quizResult_wrong__XKaLJ"}},23:function(e,t,n){e.exports={customInput:"cardBody_customInput__9aPoZ",checked:"cardBody_checked__2Tjli"}},24:function(e,t,n){e.exports={buttonDisabled:"cardFooter_buttonDisabled__1qaL-",button:"cardFooter_button__17b7v"}},25:function(e,t,n){e.exports={hidden:"spinner_hidden__2p_CZ",spinner:"spinner_spinner__3j10E",rotate:"spinner_rotate__1cmHs"}},31:function(e,t,n){e.exports={progress:"cardHeader_progress__ljP40"}},32:function(e,t,n){e.exports={wrap:"card_wrap__2a0pH"}},35:function(e,t,n){e.exports=n(55)},44:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),a=n(29),c=n.n(a),i=n(17),u=(n(44),n(6)),o=n(14),l=n(15),E=n(18),_=n(16),p=n(19),S=n(9),w=Object.freeze({GET_QUESTIONS:"GET_QUESTIONS",GET_QUESTIONS_SUCCESS:"GET_QUESTIONS_SUCCESS",GET_QUESTIONS_FAIL:"GET_QUESTIONS_FAIL",GET_NEXT_QUESTION:"GET_NEXT_QUESTION",SEND_ANSWERS_TO_SERVER:"SEND_ANSWERS_TO_SERVER",ADD_ANSWER:"ADD_ANSWER",GET_RESULTS_SUCCESS:"GET_RESULTS_SUCCESS",GET_RESULTS_FAIL:"GET_RESULTS_FAIL",REPEAT_QUIZ:"REPEAT_QUIZ",START_FETCHING:"START_FETCHING",STOP_FETCHING:"STOP_FETCHING",TOGGLE_VISIBILITY:"TOGGLE_VISIBILITY"}),T=Object.freeze({getQuestions:function(){return{type:w.GET_QUESTIONS}},getQuestionsSuccess:function(e){return{type:w.GET_QUESTIONS_SUCCESS,payload:e}},getQuestionsFail:function(){return{type:w.GET_QUESTIONS_FAIL}},getNextQuestion:function(e){return{type:w.GET_NEXT_QUESTION,payload:e}},sendAnswersToServer:function(e){return{type:w.SEND_ANSWERS_TO_SERVER,payload:e}},addAnswer:function(e){return{type:w.ADD_ANSWER,payload:e}},getResultsSuccess:function(e){return{type:w.GET_RESULTS_SUCCESS,payload:e}},getResultsFail:function(){return{type:w.GET_RESULTS_FAIL}},repeatQuiz:function(){return{type:w.REPEAT_QUIZ}},startFetching:function(){return{type:w.START_FETCHING}},stopFetching:function(){return{type:w.STOP_FETCHING}},toggleVisibility:function(){return{type:w.TOGGLE_VISIBILITY}}}),f=n(31),b=n.n(f),d=function(e){var t=e.current,n=e.progress,r=e.quantity,a=e.title;return s.a.createElement("div",null,s.a.createElement("h3",null,a),s.a.createElement("h4",null,"\u0412\u043e\u043f\u0440\u043e\u0441 ".concat(t," \u0438\u0437 ").concat(r)),s.a.createElement("p",{className:b.a.progress,style:{width:100*n+"%"}}))},h=n(23),m=n.n(h),O=function(e){var t=e.answer,n=e.items,r=e.onAnswer,a=n.map(function(e,n){return s.a.createElement("p",{key:n},s.a.createElement("label",{className:t===n?m.a.checked:null},s.a.createElement("input",{className:m.a.customInput,type:"radio",name:"answer",value:t,checked:t===n,onChange:function(){return r(n)}}),e))});return s.a.createElement("section",null,a)},g=n(24),A=n.n(g),N=function(e){var t=e.addAnswer,n=e.current,r=e.getNextQuestion,a=e.isAnswerSelected,c=e.quantity,i=e.sendAnswers,u=n!==c?"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0432\u043e\u043f\u0440\u043e\u0441":"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0442\u0435\u0441\u0442";return void 0!==a?s.a.createElement("button",{className:A.a.button,onClick:function(){if(n!==c)return r(n),void t();t(),i()}},u):s.a.createElement("button",{className:A.a.buttonDisabled},u)},I=n(32),v=n.n(I),j=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(n=Object(E.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(s)))).state={answer:void 0},n.handleClick=function(e){return n.setState({answer:e})},n.handleNextQuestion=function(){n.props.actions.addAnswer(n.state.answer),n.setState({answer:void 0})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.question,n=t.text,r=t.options,a=e.progress,c=e.quantity,i=e.current,u=e.actions,o=u.sendAnswersToServer,l=u.getNextQuestion,E=this.state.answer;return s.a.createElement("section",{className:v.a.wrap},s.a.createElement(d,{title:n,progress:a,quantity:c,current:i}),s.a.createElement(O,{answer:E,items:r,onAnswer:this.handleClick}),s.a.createElement(N,{quantity:c,current:i,getNextQuestion:l,sendAnswers:o,addAnswer:this.handleNextQuestion,isAnswerSelected:E}))}}]),t}(r.Component),y=n(20),x=n.n(y),F=n(10),R=n.n(F),G=function(e){var t=e.answers,n=e.questions.map(function(e,n){return s.a.createElement("li",{key:"".concat(n,"qi")},s.a.createElement("article",null,s.a.createElement("h4",{className:e.answer===t[n]?R.a.rightAnswer:R.a.wrongAnswer},e.text),s.a.createElement("ul",{className:R.a.options},e.options.map(function(r,a){return s.a.createElement("li",{key:"".concat(a,"oi"),className:a!==e.answer&&a!==t[n]?null:a===e.answer&&a===t[n]?R.a.overlap:a===e.answer&&a!==t[n]?R.a.right:R.a.wrong},r)}))))});return s.a.createElement("ul",{className:R.a.fullAnswer},n)},Q=function(e){var t=e.answers,n=e.isFullAnswerVisible,r=e.questions,a=e.results,c=a.correct,i=a.incorrect,u=a.total,o=e.repeat,l=e.toggleVisibility,E=n?s.a.createElement(G,{answers:t,questions:r}):null;return s.a.createElement("section",{className:x.a.wrap},s.a.createElement("h2",null,"\u0422\u0435\u0441\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d!"),s.a.createElement("p",null,"\u0412\u0441\u0435\u0433\u043e \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432: ",u),s.a.createElement("p",null,"\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0445 \u043e\u0442\u0432\u0435\u0442\u043e\u0432: ",s.a.createElement("span",{className:x.a.right},c)),s.a.createElement("p",null,"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0445 \u043e\u0442\u0432\u0435\u0442\u043e\u0432: ",s.a.createElement("span",{className:x.a.wrong},i)),s.a.createElement("button",{onClick:function(){n&&l(),o()}},"\u041d\u0430\u0447\u0430\u0442\u044c \u0441\u043d\u043e\u0432\u0430"),s.a.createElement("button",{onClick:l},n?"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442":"\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"),E)},U=n(25),C=n.n(U),q=function(e){var t=e.isFetching;return s.a.createElement("div",{className:t?C.a.spinner:C.a.hidden})},k=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(E.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(a)))).component=function(){var e=n.props,t=e.actions,r=e.answers,a=e.currentQuestionIndex,c=e.isFetching,i=e.isFullAnswerVisible,u=e.questions,o=e.results,l=u[a];if(!l)return null;var E=(a+1)/u.length;return o.total?s.a.createElement(Q,{answers:r,isFullAnswerVisible:i,questions:u,results:o,repeat:t.repeatQuiz,toggleVisibility:t.toggleVisibility}):s.a.createElement(j,{actions:t,current:a+1,isFetching:c,quantity:u.length,question:l,progress:E})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.actions.getQuestions()}},{key:"render",value:function(){var e=this.component(),t=this.props.isFetching;return s.a.createElement("section",{style:{position:"relative"}},s.a.createElement(q,{isFetching:t}),e)}}]),t}(r.Component),L=Object(i.b)(function(e){return{answers:e.answers,currentQuestionIndex:e.currentQuestionIndex,isFetching:e.isFetching,isFullAnswerVisible:e.isFullAnswerVisible,questions:e.questions,results:e.results}},function(e){return{actions:Object(S.b)(Object(u.a)({},T),e)}})(k),V=n(33),D=n(34);var P=n(5),z=n.n(P),H=n(3),W=z.a.mark(X),B="api/quiz";function X(){var e,t,n;return z.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(H.c)(T.startFetching());case 3:return r.next=5,Object(H.b)(fetch,B,{method:"GET"});case 5:if(200===(e=r.sent).status){r.next=8;break}throw new Error("Resource isn't available");case 8:return r.next=10,Object(H.b)([e,e.json]);case 10:return t=r.sent,n=t.quiz,r.next=14,Object(H.c)(T.getQuestionsSuccess(n));case 14:r.next=21;break;case 16:return r.prev=16,r.t0=r.catch(0),r.t0.message,r.next=21,Object(H.c)(T.getQuestionsFail());case 21:return r.prev=21,r.next=24,Object(H.c)(T.stopFetching());case 24:return r.finish(21);case 25:case"end":return r.stop()}},W,this,[[0,16,21,25]])}var Z=z.a.mark(J),Y="api/quiz";function J(){var e,t,n,r,s;return z.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(H.c)(T.startFetching());case 3:return a.next=5,Object(H.d)(function(e){return e.answers});case 5:return e=a.sent,a.next=8,Object(H.b)(fetch,Y,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 8:if(200===(t=a.sent).status){a.next=11;break}throw new Error("Resource isn't available");case 11:return a.next=13,Object(H.b)([t,t.json]);case 13:return n=a.sent,r=n.results,a.next=17,Object(H.c)(T.getResultsSuccess(r));case 17:a.next=24;break;case 19:return a.prev=19,a.t0=a.catch(0),s=a.t0.message,a.next=24,Object(H.c)(T.getResultsFail(s));case 24:return a.prev=24,a.next=27,Object(H.c)(T.stopFetching());case 27:return a.finish(24);case 28:case"end":return a.stop()}},Z,this,[[0,19,24,28]])}var M=z.a.mark(ee),K=z.a.mark(te),$=z.a.mark(ne);function ee(){return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.e)(w.GET_QUESTIONS,X);case 2:case"end":return e.stop()}},M,this)}function te(){return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.e)(w.SEND_ANSWERS_TO_SERVER,J);case 2:case"end":return e.stop()}},K,this)}function ne(){return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.a)([ee(),te()]);case 2:case"end":return e.stop()}},$,this)}window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;var re=S.c,se=Object(V.a)(),ae=Object(S.d)(function(e,t){var n=t.type,r=t.payload;switch(n){case w.GET_QUESTIONS_SUCCESS:return Object(u.a)({},e,{questions:r});case w.GET_NEXT_QUESTION:return Object(u.a)({},e,{currentQuestionIndex:r});case w.START_FETCHING:return Object(u.a)({},e,{isFetching:!0});case w.STOP_FETCHING:return Object(u.a)({},e,{isFetching:!1});case w.ADD_ANSWER:return Object(u.a)({},e,{answers:Object(D.a)(e.answers).concat([r])});case w.GET_RESULTS_SUCCESS:return Object(u.a)({},e,{results:r});case w.TOGGLE_VISIBILITY:return Object(u.a)({},e,{isFullAnswerVisible:!e.isFullAnswerVisible});case w.REPEAT_QUIZ:return Object(u.a)({},e,{currentQuestionIndex:0,answers:[],results:{}});default:return e}},{answers:[],currentQuestionIndex:0,isFetching:!1,isFullAnswerVisible:!1,questions:[],results:{}},re(Object(S.a)(se)));se.run(ne),c.a.render(s.a.createElement(i.a,{store:ae},s.a.createElement(L,null)),document.getElementById("root"))}},[[35,2,1]]]);
//# sourceMappingURL=main.0051b734.chunk.js.map