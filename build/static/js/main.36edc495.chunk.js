(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,n){e.exports=n(39)},39:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),s=n(24),c=n.n(s),u=n(18),o=n(9),i=n(11),E=n(12),S=n(14),l=n(13),p=n(15),O=n(8),_=Object.freeze({GET_QUESTIONS:"GET_QUESTIONS",GET_QUESTIONS_SUCCESS:"GET_QUESTIONS_SUCCESS",GET_QUESTIONS_FAIL:"GET_QUESTIONS_FAIL",GET_NEXT_QUESTION:"GET_NEXT_QUESTION",SEND_ANSWERS_TO_SERVER:"SEND_ANSWERS_TO_SERVER",ADD_ANSWER:"ADD_ANSWER",GET_RESULTS_SUCCESS:"GET_RESULTS_SUCCESS",GET_RESULTS_FAIL:"GET_RESULTS_FAIL"}),f=Object.freeze({getQuestions:function(){return{type:_.GET_QUESTIONS}},getQuestionsSuccess:function(e){return{type:_.GET_QUESTIONS_SUCCESS,payload:e}},getQuestionsFail:function(){return{type:_.GET_QUESTIONS_FAIL}},getNextQuestion:function(e){return{type:_.GET_NEXT_QUESTION,payload:e}},sendAnswersToServer:function(e){return{type:_.SEND_ANSWERS_TO_SERVER,payload:e}},addAnswer:function(e){return{type:_.ADD_ANSWER,payload:e}},getResultsSuccess:function(e){return{type:_.GET_RESULTS_SUCCESS,payload:e}},getResultsFail:function(){return{type:_.GET_RESULTS_FAIL}}}),T=function(e){var t=e.title,n=(e.value,e.current),r=e.quantity;return a.a.createElement("div",null,a.a.createElement("h2",null,t),a.a.createElement("h4",null,"\u0412\u043e\u043f\u0440\u043e\u0441 ".concat(n," \u0438\u0437 ").concat(r)),a.a.createElement("hr",null))},b=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(S.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).optionList=function(){var e=n.props,t=e.answer,r=e.onAnswer;return n.props.items.map(function(e,n){return a.a.createElement("p",{key:n},a.a.createElement("label",null,a.a.createElement("input",{type:"radio",name:"answer",value:t,checked:t===n,onChange:function(){return r(n)}}),e))})},n}return Object(p.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.optionList();return a.a.createElement("section",null,e)}}]),t}(r.Component),d=function(e){var t=e.current,n=e.quantity,r=e.getNextQuestion,s=e.sendAnswers,c=e.addAnswer,u=t!==n?"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0432\u043e\u043f\u0440\u043e\u0441":"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0442\u0435\u0441\u0442";return a.a.createElement("button",{onClick:function(){if(t!==n)return r(t),void c();c(),s()}},u)},h=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=Object(S.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).state={answer:void 0},n.handleClick=function(e){return n.setState({answer:e})},n.handleNextQuestion=function(){n.props.actions.addAnswer(n.state.answer),n.setState({answer:void 0})},n}return Object(p.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.question,n=t.text,r=t.options,s=e.value,c=e.quantity,u=e.current,o=e.actions,i=o.sendAnswersToServer,E=o.getNextQuestion,S=this.state.answer;return a.a.createElement("section",null,a.a.createElement(T,{title:n,value:s,quantity:c,current:u}),a.a.createElement(b,{answer:S,items:r,onAnswer:this.handleClick}),a.a.createElement(d,{quantity:c,current:u,getNextQuestion:E,sendAnswers:i,addAnswer:this.handleNextQuestion}))}}]),t}(r.Component),w=function(e){function t(){return Object(i.a)(this,t),Object(S.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.actions.getQuestions()}},{key:"render",value:function(){var e=this.props,t=e.questions,n=e.currentQuestionIndex,r=e.actions,s=t[n];if(!s)return null;var c=(n+1)/t.length;return a.a.createElement("section",null,a.a.createElement(h,{question:s,value:c,current:n+1,quantity:t.length,actions:r}))}}]),t}(r.Component),v=Object(u.b)(function(e){return{questions:e.questions,currentQuestionIndex:e.currentQuestionIndex}},function(e){return{actions:Object(O.b)(Object(o.a)({},f),e)}})(w),j=n(26),N=n(27);var m=n(5),y=n.n(m),x=n(4),Q=y.a.mark(A),U="api/quiz";function A(){var e,t,n;return y.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(x.b)(fetch,U,{method:"GET"});case 3:if(200===(e=r.sent).status){r.next=6;break}throw new Error("Resource isn't available");case 6:return r.next=8,Object(x.b)([e,e.json]);case 8:return t=r.sent,n=t.quiz,r.next=12,Object(x.c)(f.getQuestionsSuccess(n));case 12:r.next=19;break;case 14:return r.prev=14,r.t0=r.catch(0),r.t0.message,r.next=19,Object(x.c)(f.getQuestionsFail());case 19:case"end":return r.stop()}},Q,this,[[0,14]])}var R=y.a.mark(C),I="api/quiz";function C(){var e,t,n,r,a;return y.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(x.d)(function(e){return e.answers});case 3:return e=s.sent,s.next=6,Object(x.b)(fetch,I,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 6:if(200===(t=s.sent).status){s.next=9;break}throw new Error("Resource isn't available");case 9:return s.next=11,Object(x.b)([t,t.json]);case 11:return n=s.sent,r=n.results,s.next=15,Object(x.c)(f.getResultsSuccess(r));case 15:s.next=22;break;case 17:return s.prev=17,s.t0=s.catch(0),a=s.t0.message,s.next=22,Object(x.c)(f.getResultsFail(a));case 22:case"end":return s.stop()}},R,this,[[0,17]])}var g=y.a.mark(q),G=y.a.mark(L),k=y.a.mark(D);function q(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.e)(_.GET_QUESTIONS,A);case 2:case"end":return e.stop()}},g,this)}function L(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.e)(_.SEND_ANSWERS_TO_SERVER,C);case 2:case"end":return e.stop()}},G,this)}function D(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)([q(),L()]);case 2:case"end":return e.stop()}},k,this)}window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;var F=O.c,W=Object(j.a)(),X=Object(O.d)(function(e,t){var n=t.type,r=t.payload;switch(n){case _.GET_QUESTIONS_SUCCESS:return Object(o.a)({},e,{questions:r});case _.GET_NEXT_QUESTION:return Object(o.a)({},e,{currentQuestionIndex:r});case _.ADD_ANSWER:return Object(o.a)({},e,{answers:Object(N.a)(e.answers).concat([r])});case _.GET_RESULTS_SUCCESS:return Object(o.a)({},e,{results:r});default:return e}},{questions:[],currentQuestionIndex:0,answers:[],results:{}},F(Object(O.a)(W)));W.run(D),c.a.render(a.a.createElement(u.a,{store:X},a.a.createElement(v,null)),document.getElementById("root"))}},[[28,2,1]]]);
//# sourceMappingURL=main.36edc495.chunk.js.map