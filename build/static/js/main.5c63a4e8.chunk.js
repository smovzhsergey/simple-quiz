(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports={wrap:"quizResult_wrap__3GcZ_",right:"quizResult_right__2z-_y",wrong:"quizResult_wrong__XKaLJ"}},22:function(e,t,n){e.exports={customInput:"cardBody_customInput__9aPoZ",checked:"cardBody_checked__2Tjli"}},23:function(e,t,n){e.exports={buttonDisabled:"cardFooter_buttonDisabled__1qaL-",button:"cardFooter_button__17b7v"}},24:function(e,t,n){e.exports={hidden:"spinner_hidden__2p_CZ",spinner:"spinner_spinner__3j10E",rotate:"spinner_rotate__1cmHs"}},30:function(e,t,n){e.exports={progress:"cardHeader_progress__ljP40"}},31:function(e,t,n){e.exports={wrap:"card_wrap__2a0pH"}},34:function(e,t,n){e.exports=n(53)},43:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),s=n(28),c=n.n(s),u=n(16),i=(n(43),n(6)),o=n(13),l=n(14),E=n(17),p=n(15),_=n(18),S=n(9),T=Object.freeze({GET_QUESTIONS:"GET_QUESTIONS",GET_QUESTIONS_SUCCESS:"GET_QUESTIONS_SUCCESS",GET_QUESTIONS_FAIL:"GET_QUESTIONS_FAIL",GET_NEXT_QUESTION:"GET_NEXT_QUESTION",SEND_ANSWERS_TO_SERVER:"SEND_ANSWERS_TO_SERVER",ADD_ANSWER:"ADD_ANSWER",GET_RESULTS_SUCCESS:"GET_RESULTS_SUCCESS",GET_RESULTS_FAIL:"GET_RESULTS_FAIL",REPEAT_QUIZ:"REPEAT_QUIZ",START_FETCHING:"START_FETCHING",STOP_FETCHING:"STOP_FETCHING"}),d=Object.freeze({getQuestions:function(){return{type:T.GET_QUESTIONS}},getQuestionsSuccess:function(e){return{type:T.GET_QUESTIONS_SUCCESS,payload:e}},getQuestionsFail:function(){return{type:T.GET_QUESTIONS_FAIL}},getNextQuestion:function(e){return{type:T.GET_NEXT_QUESTION,payload:e}},sendAnswersToServer:function(e){return{type:T.SEND_ANSWERS_TO_SERVER,payload:e}},addAnswer:function(e){return{type:T.ADD_ANSWER,payload:e}},getResultsSuccess:function(e){return{type:T.GET_RESULTS_SUCCESS,payload:e}},getResultsFail:function(){return{type:T.GET_RESULTS_FAIL}},repeatQuiz:function(){return{type:T.REPEAT_QUIZ}},startFetching:function(){return{type:T.START_FETCHING}},stopFetching:function(){return{type:T.STOP_FETCHING}}}),h=n(30),O=n.n(h),b=function(e){var t=e.title,n=e.progress,r=e.current,s=e.quantity;return a.a.createElement("div",null,a.a.createElement("h3",null,t),a.a.createElement("h4",null,"\u0412\u043e\u043f\u0440\u043e\u0441 ".concat(r," \u0438\u0437 ").concat(s)),a.a.createElement("p",{className:O.a.progress,style:{width:100*n+"%"}}))},f=n(22),m=n.n(f),w=function(e){var t=e.answer,n=e.items,r=e.onAnswer,s=n.map(function(e,n){return a.a.createElement("p",{key:n},a.a.createElement("label",{className:t===n?m.a.checked:null},a.a.createElement("input",{className:m.a.customInput,type:"radio",name:"answer",value:t,checked:t===n,onChange:function(){return r(n)}}),e))});return a.a.createElement("section",null,s)},N=n(23),g=n.n(N),j=function(e){var t=e.current,n=e.quantity,r=e.getNextQuestion,s=e.sendAnswers,c=e.addAnswer,u=e.isAnswerSelected,i=t!==n?"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0432\u043e\u043f\u0440\u043e\u0441":"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0442\u0435\u0441\u0442";return void 0!==u?a.a.createElement("button",{className:g.a.button,onClick:function(){if(t!==n)return r(t),void c();c(),s()}},i):a.a.createElement("button",{className:g.a.buttonDisabled},i)},v=n(31),x=n.n(v),I=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=Object(E.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={answer:void 0},n.handleClick=function(e){return n.setState({answer:e})},n.handleNextQuestion=function(){n.props.actions.addAnswer(n.state.answer),n.setState({answer:void 0})},n}return Object(_.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.question,n=t.text,r=t.options,s=e.progress,c=e.quantity,u=e.current,i=e.actions,o=i.sendAnswersToServer,l=i.getNextQuestion,E=this.state.answer;return a.a.createElement("section",{className:x.a.wrap},a.a.createElement(b,{title:n,progress:s,quantity:c,current:u}),a.a.createElement(w,{answer:E,items:r,onAnswer:this.handleClick}),a.a.createElement(j,{quantity:c,current:u,getNextQuestion:l,sendAnswers:o,addAnswer:this.handleNextQuestion,isAnswerSelected:E}))}}]),t}(r.Component),y=n(19),R=n.n(y),A=function(e){var t=e.results,n=t.correct,r=t.incorrect,s=t.total,c=e.repeat;return a.a.createElement("section",{className:R.a.wrap},a.a.createElement("h2",null,"\u0422\u0435\u0441\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d!"),a.a.createElement("p",null,"\u0412\u0441\u0435\u0433\u043e \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432: ",s),a.a.createElement("p",null,"\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0445 \u043e\u0442\u0432\u0435\u0442\u043e\u0432: ",a.a.createElement("span",{className:R.a.right},n)),a.a.createElement("p",null,"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0445 \u043e\u0442\u0432\u0435\u0442\u043e\u0432: ",a.a.createElement("span",{className:R.a.wrong},r)),a.a.createElement("button",{onClick:c},"\u041d\u0430\u0447\u0430\u0442\u044c \u0441\u043d\u043e\u0432\u0430"))},Q=n(24),F=n.n(Q),U=function(e){var t=e.isFetching;return a.a.createElement("div",{className:t?F.a.spinner:F.a.hidden})},C=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(E.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).component=function(){var e=n.props,t=e.actions,r=e.currentQuestionIndex,s=e.isFetching,c=e.questions,u=e.results,i=c[r];if(!i)return null;var o=(r+1)/c.length;return u.total?a.a.createElement(A,{isFetching:s,results:u,repeat:t.repeatQuiz}):a.a.createElement(I,{actions:t,current:r+1,isFetching:s,quantity:c.length,question:i,progress:o})},n}return Object(_.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.actions.getQuestions()}},{key:"render",value:function(){var e=this.component(),t=this.props.isFetching;return a.a.createElement("section",{style:{position:"relative"}},a.a.createElement(U,{isFetching:t}),e)}}]),t}(r.Component),G=Object(u.b)(function(e){return{currentQuestionIndex:e.currentQuestionIndex,isFetching:e.isFetching,questions:e.questions,results:e.results}},function(e){return{actions:Object(S.b)(Object(i.a)({},d),e)}})(C),k=n(32),q=n(33);var D=n(5),L=n.n(D),P=n(3),z=L.a.mark(W),H="api/quiz";function W(){var e,t,n;return L.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(P.c)(d.startFetching());case 3:return r.next=5,Object(P.b)(fetch,H,{method:"GET"});case 5:if(200===(e=r.sent).status){r.next=8;break}throw new Error("Resource isn't available");case 8:return r.next=10,Object(P.b)([e,e.json]);case 10:return t=r.sent,n=t.quiz,r.next=14,Object(P.c)(d.getQuestionsSuccess(n));case 14:r.next=21;break;case 16:return r.prev=16,r.t0=r.catch(0),r.t0.message,r.next=21,Object(P.c)(d.getQuestionsFail());case 21:return r.prev=21,r.next=24,Object(P.c)(d.stopFetching());case 24:return r.finish(21);case 25:case"end":return r.stop()}},z,this,[[0,16,21,25]])}var X=L.a.mark(V),Z="api/quiz";function V(){var e,t,n,r,a;return L.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(P.c)(d.startFetching());case 3:return s.next=5,Object(P.d)(function(e){return e.answers});case 5:return e=s.sent,s.next=8,Object(P.b)(fetch,Z,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 8:if(200===(t=s.sent).status){s.next=11;break}throw new Error("Resource isn't available");case 11:return s.next=13,Object(P.b)([t,t.json]);case 13:return n=s.sent,r=n.results,s.next=17,Object(P.c)(d.getResultsSuccess(r));case 17:s.next=24;break;case 19:return s.prev=19,s.t0=s.catch(0),a=s.t0.message,s.next=24,Object(P.c)(d.getResultsFail(a));case 24:return s.prev=24,s.next=27,Object(P.c)(d.stopFetching());case 27:return s.finish(24);case 28:case"end":return s.stop()}},X,this,[[0,19,24,28]])}var J=L.a.mark(K),B=L.a.mark(Y),M=L.a.mark($);function K(){return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.e)(T.GET_QUESTIONS,W);case 2:case"end":return e.stop()}},J,this)}function Y(){return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.e)(T.SEND_ANSWERS_TO_SERVER,V);case 2:case"end":return e.stop()}},B,this)}function $(){return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.a)([K(),Y()]);case 2:case"end":return e.stop()}},M,this)}window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;var ee=S.c,te=Object(k.a)(),ne=Object(S.d)(function(e,t){var n=t.type,r=t.payload;switch(n){case T.GET_QUESTIONS_SUCCESS:return Object(i.a)({},e,{questions:r});case T.GET_NEXT_QUESTION:return Object(i.a)({},e,{currentQuestionIndex:r});case T.START_FETCHING:return Object(i.a)({},e,{isFetching:!0});case T.STOP_FETCHING:return Object(i.a)({},e,{isFetching:!1});case T.ADD_ANSWER:return Object(i.a)({},e,{answers:Object(q.a)(e.answers).concat([r])});case T.GET_RESULTS_SUCCESS:return Object(i.a)({},e,{results:r});case T.REPEAT_QUIZ:return Object(i.a)({},e,{currentQuestionIndex:0,answers:[],results:{}});default:return e}},{answers:[],currentQuestionIndex:0,isFetching:!1,questions:[],results:{}},ee(Object(S.a)(te)));te.run($),c.a.render(a.a.createElement(u.a,{store:ne},a.a.createElement(G,null)),document.getElementById("root"))}},[[34,2,1]]]);
//# sourceMappingURL=main.5c63a4e8.chunk.js.map